[gd_scene load_steps=7 format=3 uid="uid://djqv7mvuf0o8w"]

[ext_resource type="Material" uid="uid://bsbdxee7lf52g" path="res://materials/floor_material.tres" id="1_dbx6a"]
[ext_resource type="Script" path="res://scenes/crawler/rooms/room_04.gd" id="1_o0y63"]
[ext_resource type="Material" uid="uid://cx4301xkuyplj" path="res://materials/wall_material.tres" id="2_5wtqq"]
[ext_resource type="Script" path="res://scripts/crawler/npcs/spawner.gd" id="4_ufcoo"]

[sub_resource type="NavigationMesh" id="NavigationMesh_nl6f1"]
vertices = PackedVector3Array(-7.35156, 0.5, -10.605, -0.721564, 0.5, -10.735, -0.721564, 0.5, -11.125, -7.61156, 0.5, -10.865, -0.331564, 0.5, -11.515, 0.708436, 0.5, -11.645, 0.578436, 0.5, -21.655, -7.61156, 0.5, -21.655, 7.59844, 0.5, -11.645, 7.59844, 0.5, -21.655, -5.14156, 0.5, -3.975, -4.49156, 0.5, -4.365, -4.49156, 0.5, -5.015, -8.39156, 0.5, -9.305, -1.50156, 0.5, -6.185, 1.09844, 0.5, -7.485, -7.35156, 0.5, -10.215, -4.10156, 0.5, -5.405, -0.851564, 0.5, -4.885, -1.24156, 0.5, -4.495, -0.331564, 0.5, -3.715, 0.318436, 0.5, -4.365, -0.851564, 0.5, -5.665, 0.708436, 0.5, -4.365, 3.95844, 0.5, -2.415, -3.97156, 0.5, -3.715, -3.32156, 0.5, -0.725, -0.331564, 0.5, -3.065, -3.45156, 0.5, -3.715, 0.318436, 0.5, -2.545, -1.24156, 0.5, 2.915, 1.74844, 0.5, 2.915, 2.26844, 0.5, -1.375, 3.43844, 0.5, -0.725, 2.26844, 0.5, 3.435, 4.08844, 0.5, -0.725, 7.20844, 0.5, 3.045, 4.73844, 0.5, -1.375, 2.26844, 0.5, 4.215, 1.74844, 0.5, 4.605, 1.87844, 0.5, 7.075, 7.59844, 0.5, 7.075, 7.59844, 0.5, 3.695, -4.88156, 0.5, 7.075, -4.75156, 0.5, 4.605, -7.61156, 0.5, 4.605, -7.61156, 0.5, 7.075, -4.10156, 0.5, 7.075, 1.22844, 0.5, 7.465, -3.71156, 0.5, 7.465, -3.71156, 0.5, 8.245, 1.22844, 0.5, 8.245)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(0, 3, 2), PackedInt32Array(2, 3, 4), PackedInt32Array(4, 3, 5), PackedInt32Array(5, 3, 6), PackedInt32Array(6, 3, 7), PackedInt32Array(8, 5, 9), PackedInt32Array(9, 5, 6), PackedInt32Array(11, 10, 12), PackedInt32Array(12, 10, 13), PackedInt32Array(14, 17, 15), PackedInt32Array(15, 17, 1), PackedInt32Array(1, 17, 16), PackedInt32Array(1, 16, 0), PackedInt32Array(12, 13, 17), PackedInt32Array(17, 13, 16), PackedInt32Array(19, 18, 20), PackedInt32Array(20, 18, 21), PackedInt32Array(22, 14, 15), PackedInt32Array(21, 18, 23), PackedInt32Array(23, 18, 22), PackedInt32Array(22, 15, 23), PackedInt32Array(23, 15, 24), PackedInt32Array(11, 25, 10), PackedInt32Array(10, 25, 26), PackedInt32Array(20, 27, 19), PackedInt32Array(19, 27, 28), PackedInt32Array(25, 28, 26), PackedInt32Array(26, 28, 27), PackedInt32Array(26, 27, 29), PackedInt32Array(29, 32, 26), PackedInt32Array(26, 32, 30), PackedInt32Array(30, 32, 31), PackedInt32Array(31, 32, 33), PackedInt32Array(33, 35, 31), PackedInt32Array(31, 35, 34), PackedInt32Array(35, 37, 34), PackedInt32Array(34, 37, 36), PackedInt32Array(39, 38, 40), PackedInt32Array(40, 38, 36), PackedInt32Array(40, 36, 42), PackedInt32Array(40, 42, 41), PackedInt32Array(38, 34, 36), PackedInt32Array(46, 45, 43), PackedInt32Array(43, 45, 44), PackedInt32Array(47, 43, 44), PackedInt32Array(40, 48, 39), PackedInt32Array(39, 48, 49), PackedInt32Array(39, 49, 47), PackedInt32Array(39, 47, 44), PackedInt32Array(48, 51, 49), PackedInt32Array(49, 51, 50)]
cell_size = 0.13

[sub_resource type="BoxShape3D" id="BoxShape3D_4bt5b"]
size = Vector3(5.42, 2.54, 1)

[node name="room04" type="Node3D"]
script = ExtResource("1_o0y63")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -8.84)
navigation_mesh = SubResource("NavigationMesh_nl6f1")

[node name="floor" type="CSGCombiner3D" parent="NavigationRegion3D"]
material_override = ExtResource("1_dbx6a")
use_collision = true

[node name="enter_floor" type="CSGBox3D" parent="NavigationRegion3D/floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.265, -0.5, 8.305)
material_override = ExtResource("1_dbx6a")
use_collision = true
size = Vector3(6.01, 1, 0.97)

[node name="floor" type="CSGBox3D" parent="NavigationRegion3D/floor"]
transform = Transform3D(0.332554, 0, 0.35, 0, 1, 0, -0.192, 0, 0.606218, -0.67925, -0.5, -3.0507)
material_override = ExtResource("1_dbx6a")
use_collision = true
size = Vector3(23.78, 1, 30.39)

[node name="floor2" type="CSGBox3D" parent="NavigationRegion3D/floor"]
transform = Transform3D(0.7296, 0, 0, 0, 1, 0, 0, 0, 0.7, 0, -0.5, -16.3755)
material_override = ExtResource("1_dbx6a")
use_collision = true
size = Vector3(23.78, 1, 16.57)

[node name="floor4" type="CSGBox3D" parent="NavigationRegion3D/floor"]
transform = Transform3D(0.7296, 0, 0, 0, 1, 0, 0, 0, 0.7, 0, -0.5, 5.8495)
material_override = ExtResource("1_dbx6a")
use_collision = true
size = Vector3(23.78, 1, 6.65)

[node name="walls" type="CSGCombiner3D" parent="NavigationRegion3D"]
material_override = ExtResource("2_5wtqq")
use_collision = true

[node name="wall_0" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(0.866025, 0, 0.5, 0, 1, 0, -0.5, 0, 0.866025, -5.7025, 1.45, -3.11364)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(0.5, 3, 15.9)

[node name="wall_10" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(0.766045, 0, -0.642787, 0, 1, 0, 0.642787, 0, 0.766045, -8.92726, 1.45, -10.2727)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(0.5, 3, 1.71)

[node name="wall_11" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(5.96046e-07, 0, -1, 0, 1, 0, 1, 0, 5.96046e-07, 4.36416, 1.45, -10.8539)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(0.5, 3, 8.38)

[node name="wall_12" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-1, 0, -5.52335e-07, 0, 1, 0, 5.52335e-07, 0, -1, 8.45416, 1.45, -16.6389)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(0.5, 3, 10.97)

[node name="wall_14" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-1, 0, -5.52335e-07, 0, 1, 0, 5.52335e-07, 0, -1, 8.45416, 1.45, 5.79106)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(0.5, 3, 4.55)

[node name="wall_15" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-1, 0, -5.52335e-07, 0, 1, 0, 5.52335e-07, 0, -1, -8.39584, 1.45, 5.83106)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(0.5, 3, 4.63)

[node name="wall_13" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-1, 0, -5.52335e-07, 0, 1, 0, 5.52335e-07, 0, -1, -8.41584, 1.45, -16.3889)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(0.5, 3, 11.31)

[node name="wall_8" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-0.342021, 0, 0.939692, 0, 1, 0, -0.939692, 0, -0.342021, -2.67944, 1.45, -4.96454)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(0.5, 3, 2.56)

[node name="wall_9" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(0.5, 0, 0.866026, 0, 1, 0, -0.866026, 0, 0.5, 2.14556, 1.45, -2.49454)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(0.5, 3, 4.13)

[node name="wall_1" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(0.866025, 0, 0.5, 0, 1, 0, -0.5, 0, 0.866025, 4.31, 1.45, -3.64942)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(0.5, 3, 16.94)

[node name="wall_6" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -3.505, 1.45, 3.74)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(10.32, 3, 0.5)

[node name="wall_7" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -6.47, 1.45, 7.91)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(4.39, 3, 0.5)

[node name="door" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -1.26, 1.45, 8.41)
visible = false
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(6.01, 3, 0.5)

[node name="wall_16" type="CSGBox3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 5.22, 1.45, 7.91)
material_override = ExtResource("2_5wtqq")
use_collision = true
size = Vector3(6.85, 3, 0.5)

[node name="EnterArea" type="Area3D" parent="."]
transform = Transform3D(2.6, 0, 0, 0, 1, 0, 0, 0, 0.6, -1.58, 1.43, -2.36)

[node name="CollisionShape3D" type="CollisionShape3D" parent="EnterArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.563075, 0.12, 0.183339)
shape = SubResource("BoxShape3D_4bt5b")

[node name="Spawner" type="Node3D" parent="." node_paths=PackedStringArray("room")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.76, 1.2, -7.42)
script = ExtResource("4_ufcoo")
room = NodePath("..")

[node name="Timer" type="Timer" parent="Spawner"]

[connection signal="area_entered" from="EnterArea" to="." method="_on_enter_area_area_entered"]
[connection signal="timeout" from="Spawner/Timer" to="Spawner" method="_on_timer_timeout"]
